/* Monopoly SCSS */
/* Created by Ceri Woolway beginning October 2020 */

// General colours
$lightgreen  : #d5e8d4;
$black       : #000;


// Property colours

$brown      : #824c26;
$lightblue  : #99d1f4;
$pink       : #d52788;
$orange     : #f1970b;
$red        : #db0926;
$yellow     : #e9ed38;
$green      : #0aa959;
$darkblue   : #3e64ad;


$border: 3px solid $black;

/* @font-face kit by Fonts2u (https://fonts2u.com) */
@font-face {font-family:"Kabel-Heavy";src:url("fonts/Kabel-Heavy.eot?") format("eot"),url("fonts/Kabel-Heavy.woff") format("woff"),url("fonts/Kabel-Heavy.ttf") format("truetype"),url("fonts/Kabel-Heavy.svg#Kabel-Heavy") format("svg");font-weight:normal;font-style:normal;}

body{
    font-family: 'Kabel-Heavy', sans-serif;
    font-size: 24px;
    min-height: 100vh;
    padding: 30px;
    margin: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    background: $lightgreen;
    text-align: center;
}


$columnsize: 75px;

#board{
    border: $border;
    display: grid;
    grid-template-columns: $columnsize auto $columnsize;
    grid-template-rows: $columnsize auto $columnsize;
    max-width: 900px;
    position: relative;
}

#south{
    grid-column: 2 / 4;
    grid-row: 3 / 4;
    display: grid;
    grid-template-columns: auto auto auto auto auto auto auto auto auto auto $columnsize;

    & > div{
        grid-row: 1 / 1;
        // I'm sure this shouldn't be necessary, but I can't figure out how to get rid of the excess rows right now.

        border-left: $border;
        border-top: $border;
    }

    & > div:last-child{
        border-left: none;
    }

}

@for $i from 1 through 10 {
    #south > div:nth-child(#{$i}){
        grid-column-start: (13 - $i);
        grid-column-end: (12 - $i);
    }
  }

#west{
    grid-column: 1 / 2;
    grid-row: 2 / 4;
    flex-direction: column-reverse;

    & > div{
        border-right: $border;
        border-top: $border;
    }

    & > div:last-child{
        border-top: none;
    }
}

#north{
    grid-column: 1 / 3;
    grid-row: 1 / 2;

    & > div{
        border-right: $border;
        border-bottom: $border;
    }

    & > div:last-child{
        border-right: none
    }
}

#east{
    grid-column: 3 / 4;
    grid-row: 1 / 3;
    flex-direction: column;

    & > div{
        border-left: $border;
        border-bottom: $border;
    }

    & > div:last-child{
        border-bottom: none;
    }
}

.corner.special{
    flex-basis: $columnsize;
    flex-grow: unset;
    flex-shrink: unset;
}

.row{
    display: flex;
    overflow: hidden;
}

.row > div{
    flex-grow: 1;
    flex-shrink: 1;
    box-sizing: border-box;
    flex-basis: 7%;
    //font-size: 1vw;
}

.property,
.community-chest,
.special,
.station,
.chance,
.utility{
    //border-top: $border;
    //border-left: $border;
    padding: 5px;
    text-align: center;
    font-size: 10px;
    min-height: 50px;
}




/* Normal property -----------------------------------------------------------*/

.property{
    position: relative;
    padding-top: 20px;
    text-align: center;

    &:before{
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 10px;
        border-bottom: $border;
    }
}

.property.brown:before{background: $brown;}
.property.lightblue:before{background: $lightblue;}
.property.pink:before{background: $pink;}
.property.orange:before{background: $orange;}
.property.red:before{background: $red;}
.property.yellow:before{background: $yellow;}
.property.green:before{background: $green;}
.property.darkblue:before{background: $darkblue;}

.property-price{
    font-size: 14px;
}

/* Special property ----------------------------------------------------------*/

.community-chest{
    background: url('images/community-chest.svg') center no-repeat;
    background-size: contain;
}

.station{
    background: url('images/station.svg') center no-repeat;
    background-size: contain;
}

.chance{
    background: url('images/chance.svg') center no-repeat;
    background-size: contain;
}


/* Dice ----------------------------------------------------------------------*/

.dice{
    width: 35px;
    height: 35px;
    background: #fff;
    border: $border;
    border-radius: 5px;
    background-size: contain;
}

@for $i from 1 through 6 {
    .dice-roll-#{$i}{
        background-image: url('images/dice-#{$i}.svg')
    }
  }

#doubles{
    font-size: 0.8em;
}

#dice-roll{
    display: flex;
    align-items: center;

    span{
        padding: 10px;
    }

    #dice-total{
        font-weight: bold;
        font-size: 1.2em;
    }
}

.double1 .dice{
    background-color: $yellow;
}

.double2 .dice{
    background-color: $orange;
}

.double3 .dice{
    background-color: $red;
}

/* Player tokens -------------------------------------------------------------*/

// Eventually there'll be mutliple token types, with each player being able to
// choose their token. This will do for now.
#token{
    background: url('images/token.svg') center no-repeat;
    background-size: contain;
}

.token{
    width: 35px;
    height: 35px;
    position: absolute;
    z-index: 2;
}

/* SOUTH ----------------------------- */

.token[area="south"]{
    bottom: 0;
}

.token[position="0"] {right: 0;}
.token[position="1"] {right: 10%;}
.token[position="2"] {right: 20%;}
.token[position="3"] {right: 30%;}
.token[position="4"] {right: 40%;}
.token[position="5"] {right: 50%;}
.token[position="6"] {right: 60%;}
.token[position="7"] {right: 70%;}
.token[position="8"] {right: 80%;}
.token[position="9"] {right: 90%;}


/* WEST ----------------------------- */

.token[area="west"]{
    left: 0;
    right: unset;
}

.token[position="10"] {bottom: 0;}
.token[position="11"] {bottom: 10%;}
.token[position="12"] {bottom: 20%;}
.token[position="13"] {bottom: 30%;}
.token[position="14"] {bottom: 40%;}
.token[position="15"] {bottom: 50%;}
.token[position="16"] {bottom: 60%;}
.token[position="17"] {bottom: 70%;}
.token[position="18"] {bottom: 80%;}
.token[position="19"] {bottom: 90%;}


/* NORTH ----------------------------- */

.token[area="north"]{
    top: 0;
    bottom: unset;
}

.token[position="20"] {left: 0;}
.token[position="21"] {left: 10%;}
.token[position="22"] {left: 20%;}
.token[position="23"] {left: 30%;}
.token[position="24"] {left: 40%;}
.token[position="25"] {left: 50%;}
.token[position="26"] {left: 60%;}
.token[position="27"] {left: 70%;}
.token[position="28"] {left: 80%;}
.token[position="29"] {left: 90%;}


/* EAST ----------------------------- */

.token[area="east"]{
    right: 0;
    left:  unset;
}

.token[position="30"] {left: 0;}
.token[position="31"] {left: 10%;}
.token[position="32"] {left: 20%;}
.token[position="33"] {left: 30%;}
.token[position="34"] {left: 40%;}
.token[position="35"] {left: 50%;}
.token[position="36"] {left: 60%;}
.token[position="37"] {left: 70%;}
.token[position="38"] {left: 80%;}
.token[position="39"] {left: 90%;}


/* Popup ---------------------------------------------------------------------*/

#popup{
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    background: rgba($black, 0.7);
}

#popup-inner{
    background: #fff;
    border: $border;
    padding: 20px;
    width: 800px;
    max-width: 100%;
    position: relative;
    text-align: center;
    box-shadow: 0 0 20px rgba(black, 0.4);
}

#popup-close{
    width: 35px;
    float: right;
}

body:not(.popup-open) #popup{
    display: none;
}




#test-grid{
    display: grid;
}